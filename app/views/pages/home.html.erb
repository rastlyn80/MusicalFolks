<%= form_for search_path, method: :get do %>
    <div class="row">
        <div class="col-md-6">
            <%= text_field_tag :search, params[:search], 
                            placeholder: "Where do you want to rehearse?", 
                            class: "form-control"  %>
        </div>
        <div class="col-md-3">
                <%= text_field_tag :start_date, params[:start_date], 
                placeholder: "Start Date", 
                class: "form-control datepicker",
                id: "startpicker"  %>           
        </div>
        <div class="col-md-3">
                <%= text_field_tag :end_date, params[:end_date], 
                placeholder: "End Date", 
                class: "form-control datepicker",
                id: "endpicker"  %>   
        </div>
    </div>
    <br/><br/>

    <div class="row">
        <div class="col-md-offset-4 col-md-4">
            <%= submit_tag "Search", class: "btn btn-normal btn-block" %>
        </div>
    </div>
<% end %>

<br/><hr/><br/>

<!-- VENUES -->
<div><h3>Venues</h3></div>
<br/>

<div class="row">
    <% @venues.each do |venue| %>
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading preview">
                    <%= image_tag venue.cover_photo(:medium) %>
                </div>
                <div class="panel-body">
                    <%= link_to venue.listing_name %>
                </div>
            </div>
        </div>
    <% end %>
</div>


<script>
        var d = new Date();
        var curr_day = d.getDate();
        var curr_month = d.getMonth() + 1;
        var curr_year = d.getFullYear();
        var formatted_date = curr_day.toString() + "." + curr_month.toString() + "." +curr_year.toString();
    
        var startPicker = $('#startpicker');    
    
            startPicker.periodpicker({
                norange: true, // use only one value
                cells: [1, 1], // show only one month
            
                resizeButton: false, // deny resize picker
                fullsizeButton: true,
                fullsizeOnDblClick: false,
                animation: true,
                showDatepickerInputs: false,
                showTimepickerInputs: false,      
    
                minDate: new Date(),
                formatDate: 'D.MM.YYYY',
                
                timepicker: true, // use timepicker
                timepickerOptions: {
                    hours: true,
                    minutes: true,
                    seconds: false,
                    ampm: true,
                    steps:[1,30,0,1]                
                }
            });
    
                    
    
            jQuery('#endpicker').periodpicker({
                norange: true, // use only one value
                cells: [1, 1], // show only one month
            
                resizeButton: false, // deny resize picker
                fullsizeButton: false,
                fullsizeOnDblClick: false,
            
                timepicker: true, // use timepicker
                timepickerOptions: {
                    hours: true,
                    minutes: true,
                    seconds: false,
                    ampm: true
                }
            });
            
    </script>